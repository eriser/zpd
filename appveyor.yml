
environment:
   matrix:
      - CONFIGURATION: Debug
        PLATFORM: Win32
      - CONFIGURATION: Debug
        PLATFORM: x64
      - CONFIGURATION: Release
        PLATFORM: Win32
      - CONFIGURATION: Release
        PLATFORM: x64

os: Visual Studio 2015

init:
  - Invoke-WebRequest https://github.com/pierreguillot/pthread/releases/download/0.0.1/pthread.zip -OutFile C:\projects\zpd\pthread\pthread.zip
  - 7z x C:\projects\zpd\pthread\pthread.zip
  - cd pthread\lib\x86
  - dir /s /b /o:gn
  - cd ..\..\..\
install:
    - git submodule update --init --recursive

build_script:
    - mkdir build
    - cd build
    - cmake .. -G "Visual Studio 14 2015"
    - cmake --build .

#---------------------------------#
#         notifications           #
#---------------------------------#
notifications:

  # Email
  - provider: Email
    on_build_status_changed: false
